<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>using `ggstatsplot` with the `purrr` package • ggstatsplot</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><!-- docsearch --><script src="../../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="../../extra.css" rel="stylesheet">
<meta property="og:title" content="using `ggstatsplot` with the `purrr` package">
<meta property="og:description" content="">
<meta property="og:image" content="https://indrajeetpatil.github.io/ggstatsplot/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">ggstatsplot</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/additional.html">additional vignettes</a>
    </li>
    <li>
      <a href="../../articles/tests_and_coverage.html">Tests and Coverage</a>
    </li>
    <li>
      <a href="../../articles/web_only/combine_plots.html">combine_plots</a>
    </li>
    <li>
      <a href="../../articles/web_only/effsize_interpretation.html">effect size interpretation</a>
    </li>
    <li>
      <a href="../../articles/web_only/faq.html">Frequently asked questions</a>
    </li>
    <li>
      <a href="../../articles/web_only/gallery.html">Gallery of ggstatsplot examples</a>
    </li>
    <li>
      <a href="../../articles/web_only/ggbetweenstats.html">ggbetweenstats</a>
    </li>
    <li>
      <a href="../../articles/web_only/ggcoefstats.html">ggcoefstats</a>
    </li>
    <li>
      <a href="../../articles/web_only/ggcorrmat.html">ggcorrmat</a>
    </li>
    <li>
      <a href="../../articles/web_only/ggdotplotstats.html">ggdotplotstats</a>
    </li>
    <li>
      <a href="../../articles/web_only/gghistostats.html">gghistostats</a>
    </li>
    <li>
      <a href="../../articles/web_only/ggpiestats.html">ggpiestats</a>
    </li>
    <li>
      <a href="../../articles/web_only/ggscatterstats.html">ggscatterstats</a>
    </li>
    <li>
      <a href="../../articles/web_only/ggwithinstats.html">ggwithinstats</a>
    </li>
    <li>
      <a href="../../articles/web_only/other_resources.html">other resources to learn about `ggstatsplot`</a>
    </li>
    <li>
      <a href="../../articles/web_only/purrr_examples.html">using `ggstatsplot` with the `purrr` package</a>
    </li>
    <li>
      <a href="../../articles/web_only/session_info.html">session information</a>
    </li>
    <li>
      <a href="../../articles/web_only/theme_ggstatsplot.html">ggstatsplot theme</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/IndrajeetPatil/ggstatsplot">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="purrr_examples_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>using <code>ggstatsplot</code> with the <code>purrr</code> package</h1>
                        <h4 class="author">Indrajeet Patil</h4>
            
            <h4 class="date">2020-02-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/IndrajeetPatil/ggstatsplot/blob/master/vignettes/web_only/purrr_examples.Rmd"><code>vignettes/web_only/purrr_examples.Rmd</code></a></small>
      <div class="hidden name"><code>purrr_examples.Rmd</code></div>

    </div>

    
    
<div id="why-use-purrr" class="section level1">
<h1 class="hasAnchor">
<a href="#why-use-purrr" class="anchor"></a>Why use <code>purrr</code>?</h1>
<p>Most of the <code>ggstatsplot</code> functions have <code>grouped_</code> variants, which are designed to quickly run the same <code>ggstatsplot</code> function across multiple levels of a <strong>single</strong> grouping variable. Although this function is useful for data exploration, it has two strong weaknesses-</p>
<ul>
<li><p>The arguments applied to <code>grouped_</code> function call are applied uniformly to all levels of the grouping variable when we might want to customize them for different levels of the grouping variable.</p></li>
<li><p>Only one grouping variable can be used to repeat the analysis when in reality there can be a combination of grouping variables and the operation needs to be repeated for all resulting combinations.</p></li>
</ul>
<p>We will see how to overcome this limitation by combining <code>ggstatsplot</code> with the <code>purrr</code> package.</p>
<p><strong>Note: </strong></p>
<ul>
<li><p>Unlike the typical function call for <code>ggstatsplot</code> functions where arguments can be quoted (<code>"x"</code>) or unquoted (<code>x</code>), while using <code><a href="https://purrr.tidyverse.org/reference/map2.html">purrr::pmap</a></code>, we <strong>must</strong> <em>quote</em> the arguments.</p></li>
<li><p>You can use <code>ggplot2</code> themes from extension packages (like <code>ggthemes</code>).</p></li>
<li><p>If you’d like some more background or an introduction to the purrr package, please see <a href="https://jennybc.github.io/purrr-tutorial/">this tutorial</a>.</p></li>
</ul>
</div>
<div id="introduction-and-methodology" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction-and-methodology" class="anchor"></a>Introduction and methodology</h1>
<p>For all the examples in this vignette we are going to build <code>list</code>s of things that we will pass along to <code>purrr</code> which will in turn return a list of plots that will be passed to <code>combine_plots</code>. As the name implies <code>combine_plots</code> merges the individual plots into one bigger plot with common labeling and aesthetics.</p>
<p>What are these <code>lists</code> that we are building? The lists correspond to the parameters in our <code>ggstatsplot</code> function like <code>ggbetweenstats</code>. If you look at the help file for <code><a href="../../reference/ggbetweenstats.html">?ggbetweenstats</a></code> for example the very first parameter it wants is the <code>data</code> file we’ll be using. We can also pass it different <code>titles</code> of even <code>ggtheme</code>s.</p>
<p>You can pass:</p>
<ul>
<li><p>A single character string such as <code>xlab = "Continent"</code> or numeric such as <code>nboot = 25</code> in which case it will be reused/recycled as many times as needed.</p></li>
<li><p>A vector of values such as <code>mean.label.size = c(3, 4, 5)</code> in which case it will be coerced to a list and checked for the right class (in this case integer) and the right quantity of entries in the vector i.e., <code>mean.label.size = c(3, 4)</code> will fail if we’re trying to make three plots.</p></li>
<li><p>A list; either named <code>data = year_list</code> or created as you go <code>outlier.label.color = list("#56B4E9", "#009E73", "#F0E442")</code>. Any list will be checked for the right class (in this case character) and the right quantity of entries in the list.</p></li>
</ul>
</div>
<div id="ggbetweenstats" class="section level1">
<h1 class="hasAnchor">
<a href="#ggbetweenstats" class="anchor"></a><code>ggbetweenstats</code>
</h1>
<p>Following our methodology above let’s start with <code>ggebtweenstats</code>. We’ll use the <code>gapminder</code> dataset. We’ll make a 3 item named <code>list</code> called <code>data_list</code> using <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter</a></code> and <code>split</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggstatsplot)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co"># for reproducibility</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co"># let's split the dataframe and create a list by years of interest</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>year_list &lt;-</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="st">  </span>gapminder<span class="op">::</span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> ., year <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1967</span>, <span class="dv">1987</span>, <span class="dv">2007</span>), continent <span class="op">!=</span><span class="st"> "Oceania"</span>) <span class="op">%&gt;%</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/split.html">split</a></span>(<span class="dt">x =</span> ., <span class="dt">f =</span> .<span class="op">$</span>year, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co"># this created a list with 3 elements, one for each year we want</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co"># you can check the structure of the file for yourself</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co"># str(year_list[1])</span></span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co"># checking the length of the list and the names of each element</span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(year_list)</span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="co">#&gt; [1] 3</span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(year_list)</span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="co">#&gt; [1] "1967" "1987" "2007"</span></span></code></pre></div>
<p>Now that we have the data divided into the three relevant years in a list we’ll turn to <code><a href="https://purrr.tidyverse.org/reference/map2.html">purrr::pmap</a></code> to create a list of <code>ggplot</code> objects that we’ll make use of stored in <code>plot_list</code>. When you look at the documentation for <code>?pmap</code> it will accept <code>.l</code> which is a list of lists. The length of <code>.l</code> determines the number of arguments that <code>.f</code> will be called with. List names will be used if present. <code>.f</code> is the function we want to apply (here, <code>.f = ggstatsplot::ggbetweenstats</code>).</p>
<p>So let’s keep building <code>.l</code>. First is <code>data = year_list</code>, the <code>x</code> &amp; <code>y</code> axes are constant in all three plots so we pass the variable name as a string <code>x = "continent"</code>. Same with the label we’ll use for outliers where needed. For demonstration purposes let’s assume we want the outliers on each plot to be a different color. Not actually recommending it just demonstrating what’s possible. The rest of the code shows you a wide variety of possibilities and we won’t catalog them here.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># for reproducibility</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># creating a list of plots</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>plot_list &lt;-</span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb2-7"><a href="#cb2-7"></a>    <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb2-8"><a href="#cb2-8"></a>      <span class="dt">data =</span> year_list,</span>
<span id="cb2-9"><a href="#cb2-9"></a>      <span class="dt">x =</span> <span class="st">"continent"</span>,</span>
<span id="cb2-10"><a href="#cb2-10"></a>      <span class="dt">y =</span> <span class="st">"lifeExp"</span>,</span>
<span id="cb2-11"><a href="#cb2-11"></a>      <span class="dt">outlier.tagging =</span> <span class="ot">TRUE</span>,</span>
<span id="cb2-12"><a href="#cb2-12"></a>      <span class="dt">outlier.label =</span> <span class="st">"country"</span>,</span>
<span id="cb2-13"><a href="#cb2-13"></a>      <span class="dt">outlier.label.color =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb2-14"><a href="#cb2-14"></a>        <span class="st">"#56B4E9"</span>,</span>
<span id="cb2-15"><a href="#cb2-15"></a>        <span class="st">"#009E73"</span>,</span>
<span id="cb2-16"><a href="#cb2-16"></a>        <span class="st">"#F0E442"</span></span>
<span id="cb2-17"><a href="#cb2-17"></a>      ),</span>
<span id="cb2-18"><a href="#cb2-18"></a>      <span class="dt">xlab =</span> <span class="st">"Continent"</span>,</span>
<span id="cb2-19"><a href="#cb2-19"></a>      <span class="dt">ylab =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb2-20"><a href="#cb2-20"></a>      <span class="dt">title =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb2-21"><a href="#cb2-21"></a>        <span class="st">"Year: 1967"</span>,</span>
<span id="cb2-22"><a href="#cb2-22"></a>        <span class="st">"Year: 1987"</span>,</span>
<span id="cb2-23"><a href="#cb2-23"></a>        <span class="st">"Year: 2007"</span></span>
<span id="cb2-24"><a href="#cb2-24"></a>      ),</span>
<span id="cb2-25"><a href="#cb2-25"></a>      <span class="dt">type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"r"</span>, <span class="st">"bf"</span>, <span class="st">"np"</span>),</span>
<span id="cb2-26"><a href="#cb2-26"></a>      <span class="dt">pairwise.comparisons =</span> <span class="ot">TRUE</span>,</span>
<span id="cb2-27"><a href="#cb2-27"></a>      <span class="dt">pairwise.display =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"s"</span>, <span class="st">"ns"</span>, <span class="st">"all"</span>),</span>
<span id="cb2-28"><a href="#cb2-28"></a>      <span class="dt">pairwise.annotation =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"asterisk"</span>, <span class="st">"asterisk"</span>, <span class="st">"p.value"</span>),</span>
<span id="cb2-29"><a href="#cb2-29"></a>      <span class="dt">p.adjust.method =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"hommel"</span>, <span class="st">"bonferroni"</span>, <span class="st">"BH"</span>),</span>
<span id="cb2-30"><a href="#cb2-30"></a>      <span class="dt">nboot =</span> <span class="dv">25</span>,</span>
<span id="cb2-31"><a href="#cb2-31"></a>      <span class="dt">conf.level =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fl">0.99</span>, <span class="fl">0.95</span>, <span class="fl">0.90</span>),</span>
<span id="cb2-32"><a href="#cb2-32"></a>      <span class="dt">mean.label.size =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb2-33"><a href="#cb2-33"></a>      <span class="dt">k =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb2-34"><a href="#cb2-34"></a>      <span class="dt">effsize.type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb2-35"><a href="#cb2-35"></a>        <span class="ot">NULL</span>,</span>
<span id="cb2-36"><a href="#cb2-36"></a>        <span class="st">"partial_omega"</span>,</span>
<span id="cb2-37"><a href="#cb2-37"></a>        <span class="st">"partial_eta"</span></span>
<span id="cb2-38"><a href="#cb2-38"></a>      ),</span>
<span id="cb2-39"><a href="#cb2-39"></a>      <span class="dt">plot.type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"box"</span>, <span class="st">"boxviolin"</span>, <span class="st">"violin"</span>),</span>
<span id="cb2-40"><a href="#cb2-40"></a>      <span class="dt">mean.ci =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb2-41"><a href="#cb2-41"></a>      <span class="dt">package =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"nord"</span>, <span class="st">"ochRe"</span>, <span class="st">"awtools"</span>),</span>
<span id="cb2-42"><a href="#cb2-42"></a>      <span class="dt">palette =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"aurora"</span>, <span class="st">"parliament"</span>, <span class="st">"bpalette"</span>),</span>
<span id="cb2-43"><a href="#cb2-43"></a>      <span class="dt">ggtheme =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb2-44"><a href="#cb2-44"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_stata.html">theme_stata</a></span>(),</span>
<span id="cb2-45"><a href="#cb2-45"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span>(),</span>
<span id="cb2-46"><a href="#cb2-46"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_fivethirtyeight.html">theme_fivethirtyeight</a></span>()</span>
<span id="cb2-47"><a href="#cb2-47"></a>      ),</span>
<span id="cb2-48"><a href="#cb2-48"></a>      <span class="dt">ggstatsplot.layer =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb2-49"><a href="#cb2-49"></a>      <span class="dt">sample.size.label =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>),</span>
<span id="cb2-50"><a href="#cb2-50"></a>      <span class="dt">messages =</span> <span class="ot">FALSE</span></span>
<span id="cb2-51"><a href="#cb2-51"></a>    ),</span>
<span id="cb2-52"><a href="#cb2-52"></a>    <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>ggbetweenstats</span>
<span id="cb2-53"><a href="#cb2-53"></a>  )</span></code></pre></div>
<p>The final step is to pass the <code>plot_list</code> object we just created to the <code>combine_plots</code> function. While each of the 3 plots already has labeling information <code>combine_plots</code> gives us an opportunity to add additional details to the merged plots and specify the layout in rows and columns.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># combining all individual plots from the list into a single plot using combine_plots function</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>ggstatsplot<span class="op">::</span><span class="kw"><a href="https://indrajeetpatil.github.io/ggstatsplot//reference/combine_plots.html">combine_plots</a></span>(</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="dt">plotlist =</span> plot_list,</span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="dt">title.text =</span> <span class="st">"Changes in life expectancy across continents (1967-2007)"</span>,</span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="dt">title.color =</span> <span class="st">"red"</span>,</span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="dt">ncol =</span> <span class="dv">1</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>)</span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_ggbetweenstats3-1.png" width="672"></p>
</div>
<div id="ggwithinstats" class="section level1">
<h1 class="hasAnchor">
<a href="#ggwithinstats" class="anchor"></a><code>ggwithinstats</code>
</h1>
<p>We will be using simulated data from then Attention Network Test provided in ANT dataset in <code>ez</code> package.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggstatsplot)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ez)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"ANT"</span>) <span class="co"># loading data from `ez` package</span></span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co"># for reproducibility</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co"># let's split the dataframe and create a list by years of interest</span></span>
<span id="cb4-9"><a href="#cb4-9"></a>cue_list &lt;-<span class="st"> </span>ANT <span class="op">%&gt;%</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/split.html">split</a></span>(<span class="dt">x =</span> ., <span class="dt">f =</span> .<span class="op">$</span>cue, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</span>
<span id="cb4-11"><a href="#cb4-11"></a></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co"># this created a list with 4 elements, one for each year we want</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co"># you can check the structure of the file for yourself</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co"># str(cue_list[1])</span></span>
<span id="cb4-15"><a href="#cb4-15"></a></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co"># checking the length of the list and the names of each element</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(cue_list)</span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb4-19"><a href="#cb4-19"></a></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co"># creating a list of plots by applying the same function for elements of the list</span></span>
<span id="cb4-21"><a href="#cb4-21"></a>plot_list &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb4-22"><a href="#cb4-22"></a>  <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb4-23"><a href="#cb4-23"></a>    <span class="dt">data =</span> cue_list,</span>
<span id="cb4-24"><a href="#cb4-24"></a>    <span class="dt">x =</span> <span class="st">"flank"</span>,</span>
<span id="cb4-25"><a href="#cb4-25"></a>    <span class="dt">y =</span> <span class="st">"rt"</span>,</span>
<span id="cb4-26"><a href="#cb4-26"></a>    <span class="dt">outlier.tagging =</span> <span class="ot">TRUE</span>,</span>
<span id="cb4-27"><a href="#cb4-27"></a>    <span class="dt">outlier.label =</span> <span class="st">"group"</span>,</span>
<span id="cb4-28"><a href="#cb4-28"></a>    <span class="dt">outlier.coef =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="fl">2.5</span>, <span class="dv">3</span>),</span>
<span id="cb4-29"><a href="#cb4-29"></a>    <span class="dt">outlier.label.color =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb4-30"><a href="#cb4-30"></a>      <span class="st">"#009E73"</span>,</span>
<span id="cb4-31"><a href="#cb4-31"></a>      <span class="st">"#56B4E9"</span>,</span>
<span id="cb4-32"><a href="#cb4-32"></a>      <span class="st">"black"</span>,</span>
<span id="cb4-33"><a href="#cb4-33"></a>      <span class="st">"red"</span></span>
<span id="cb4-34"><a href="#cb4-34"></a>    ),</span>
<span id="cb4-35"><a href="#cb4-35"></a>    <span class="dt">xlab =</span> <span class="st">"Flank"</span>,</span>
<span id="cb4-36"><a href="#cb4-36"></a>    <span class="dt">ylab =</span> <span class="st">"Response time"</span>,</span>
<span id="cb4-37"><a href="#cb4-37"></a>    <span class="dt">title =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb4-38"><a href="#cb4-38"></a>      <span class="st">"Cue: None"</span>,</span>
<span id="cb4-39"><a href="#cb4-39"></a>      <span class="st">"Cue: Center"</span>,</span>
<span id="cb4-40"><a href="#cb4-40"></a>      <span class="st">"Cue: Double"</span>,</span>
<span id="cb4-41"><a href="#cb4-41"></a>      <span class="st">"Cue: Spatial"</span></span>
<span id="cb4-42"><a href="#cb4-42"></a>    ),</span>
<span id="cb4-43"><a href="#cb4-43"></a>    <span class="dt">type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"p"</span>, <span class="st">"r"</span>, <span class="st">"bf"</span>, <span class="st">"np"</span>),</span>
<span id="cb4-44"><a href="#cb4-44"></a>    <span class="dt">pairwise.comparisons =</span> <span class="ot">TRUE</span>,</span>
<span id="cb4-45"><a href="#cb4-45"></a>    <span class="dt">pairwise.display =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"ns"</span>, <span class="st">"s"</span>, <span class="st">"ns"</span>, <span class="st">"all"</span>),</span>
<span id="cb4-46"><a href="#cb4-46"></a>    <span class="dt">pairwise.annotation =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"p"</span>, <span class="st">"asterisk"</span>, <span class="st">"asterisk"</span>, <span class="st">"p.value"</span>),</span>
<span id="cb4-47"><a href="#cb4-47"></a>    <span class="dt">p.adjust.method =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"fdr"</span>, <span class="st">"hommel"</span>, <span class="st">"bonferroni"</span>, <span class="st">"BH"</span>),</span>
<span id="cb4-48"><a href="#cb4-48"></a>    <span class="dt">nboot =</span> <span class="dv">25</span>,</span>
<span id="cb4-49"><a href="#cb4-49"></a>    <span class="dt">conf.level =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fl">0.99</span>, <span class="fl">0.99</span>, <span class="fl">0.95</span>, <span class="fl">0.90</span>),</span>
<span id="cb4-50"><a href="#cb4-50"></a>    <span class="dt">mean.label.size =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb4-51"><a href="#cb4-51"></a>    <span class="dt">k =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb4-52"><a href="#cb4-52"></a>    <span class="dt">effsize.type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb4-53"><a href="#cb4-53"></a>      <span class="st">"omega"</span>,</span>
<span id="cb4-54"><a href="#cb4-54"></a>      <span class="st">"eta"</span>,</span>
<span id="cb4-55"><a href="#cb4-55"></a>      <span class="st">"partial_omega"</span>,</span>
<span id="cb4-56"><a href="#cb4-56"></a>      <span class="st">"partial_eta"</span></span>
<span id="cb4-57"><a href="#cb4-57"></a>    ),</span>
<span id="cb4-58"><a href="#cb4-58"></a>    <span class="dt">mean.ci =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb4-59"><a href="#cb4-59"></a>    <span class="dt">package =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"ggsci"</span>, <span class="st">"palettetown"</span>, <span class="st">"palettetown"</span>, <span class="st">"wesanderson"</span>),</span>
<span id="cb4-60"><a href="#cb4-60"></a>    <span class="dt">palette =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"lanonc_lancet"</span>, <span class="st">"venomoth"</span>, <span class="st">"blastoise"</span>, <span class="st">"GrandBudapest1"</span>),</span>
<span id="cb4-61"><a href="#cb4-61"></a>    <span class="dt">ggtheme =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb4-62"><a href="#cb4-62"></a>      ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_linedraw</a></span>(),</span>
<span id="cb4-63"><a href="#cb4-63"></a>      hrbrthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/hrbrthemes/man/theme_ipsum_rc.html">theme_ft_rc</a></span>(),</span>
<span id="cb4-64"><a href="#cb4-64"></a>      ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_solarized.html">theme_solarized</a></span>(),</span>
<span id="cb4-65"><a href="#cb4-65"></a>      ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_gdocs.html">theme_gdocs</a></span>()</span>
<span id="cb4-66"><a href="#cb4-66"></a>    ),</span>
<span id="cb4-67"><a href="#cb4-67"></a>    <span class="dt">ggstatsplot.layer =</span> <span class="ot">TRUE</span>,</span>
<span id="cb4-68"><a href="#cb4-68"></a>    <span class="dt">sample.size.label =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>),</span>
<span id="cb4-69"><a href="#cb4-69"></a>    <span class="dt">messages =</span> <span class="ot">FALSE</span></span>
<span id="cb4-70"><a href="#cb4-70"></a>  ),</span>
<span id="cb4-71"><a href="#cb4-71"></a>  <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>ggwithinstats</span>
<span id="cb4-72"><a href="#cb4-72"></a>)</span>
<span id="cb4-73"><a href="#cb4-73"></a></span>
<span id="cb4-74"><a href="#cb4-74"></a><span class="co"># combining all individual plots from the list into a single plot using combine_plots function</span></span>
<span id="cb4-75"><a href="#cb4-75"></a>ggstatsplot<span class="op">::</span><span class="kw"><a href="https://indrajeetpatil.github.io/ggstatsplot//reference/combine_plots.html">combine_plots</a></span>(</span>
<span id="cb4-76"><a href="#cb4-76"></a>  <span class="dt">plotlist =</span> plot_list,</span>
<span id="cb4-77"><a href="#cb4-77"></a>  <span class="dt">title.text =</span> <span class="st">"Response times across flank conditions for each type of cue"</span>,</span>
<span id="cb4-78"><a href="#cb4-78"></a>  <span class="dt">title.color =</span> <span class="st">"blue"</span>,</span>
<span id="cb4-79"><a href="#cb4-79"></a>  <span class="dt">caption.text =</span> <span class="st">"Simulated data from Attention Network Test"</span>,</span>
<span id="cb4-80"><a href="#cb4-80"></a>  <span class="dt">caption.color =</span> <span class="st">"orange"</span>,</span>
<span id="cb4-81"><a href="#cb4-81"></a>  <span class="dt">ncol =</span> <span class="dv">1</span></span>
<span id="cb4-82"><a href="#cb4-82"></a>)</span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_ggwithinstats-1.png" width="768"></p>
</div>
<div id="ggscatterstats" class="section level1">
<h1 class="hasAnchor">
<a href="#ggscatterstats" class="anchor"></a><code>ggscatterstats</code>
</h1>
<p>For the next example lets use the same methodology on different data and using <code>ggscatterstats</code> to produce scatterplots combined with marginal histograms/boxplots/density plots with statistical details added as a subtitle. For data we’ll use <code>movies_wide</code> which is from IMDB and part of the <code>ggstatsplot</code> package. Since it’s a large dataset with some relatively small categories like <strong>NC-17</strong> we’ll sample only one quarter of the data and completely drop NC-17 using <code>dplyr</code>. Once again we’ll feed <code><a href="https://purrr.tidyverse.org/reference/map2.html">purrr::pmap</a></code> a list of lists via <code>.l</code> and for <code>.f</code> we’ll specify <code>.f = ggstatsplot::ggscatterstats</code>.</p>
<p>This time we’ll put all the code in one block-</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># for reproducibility</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a>mpaa_list &lt;-<span class="st"> </span>ggstatsplot<span class="op">::</span>movies_wide <span class="op">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> ., mpaa <span class="op">!=</span><span class="st"> "NC-17"</span>) <span class="op">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/sample.html">sample_frac</a></span>(<span class="dt">tbl =</span> ., <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/split.html">split</a></span>(<span class="dt">x =</span> ., <span class="dt">f =</span> .<span class="op">$</span>mpaa, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a>plot_list &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb5-10"><a href="#cb5-10"></a>  <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="dt">data =</span> mpaa_list,</span>
<span id="cb5-12"><a href="#cb5-12"></a>    <span class="dt">x =</span> <span class="st">"budget"</span>,</span>
<span id="cb5-13"><a href="#cb5-13"></a>    <span class="dt">y =</span> <span class="st">"rating"</span>,</span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="dt">xlab =</span> <span class="st">"Budget (in millions of US dollars)"</span>,</span>
<span id="cb5-15"><a href="#cb5-15"></a>    <span class="dt">ylab =</span> <span class="st">"Rating on IMDB"</span>,</span>
<span id="cb5-16"><a href="#cb5-16"></a>    <span class="dt">title =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb5-17"><a href="#cb5-17"></a>      <span class="st">"MPAA Rating: PG"</span>,</span>
<span id="cb5-18"><a href="#cb5-18"></a>      <span class="st">"MPAA Rating: PG-13"</span>,</span>
<span id="cb5-19"><a href="#cb5-19"></a>      <span class="st">"MPAA Rating: R"</span></span>
<span id="cb5-20"><a href="#cb5-20"></a>    ),</span>
<span id="cb5-21"><a href="#cb5-21"></a>    <span class="dt">label.var =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"title"</span>),</span>
<span id="cb5-22"><a href="#cb5-22"></a>    <span class="dt">label.expression =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb5-23"><a href="#cb5-23"></a>      <span class="st">"rating &gt; 7.5 &amp;</span></span>
<span id="cb5-24"><a href="#cb5-24"></a><span class="st">         budget &lt; 100"</span>,</span>
<span id="cb5-25"><a href="#cb5-25"></a>      <span class="st">"rating &gt; 8 &amp; budget &lt; 50"</span>,</span>
<span id="cb5-26"><a href="#cb5-26"></a>      <span class="st">"rating &gt; 8 &amp; budget &lt; 10"</span></span>
<span id="cb5-27"><a href="#cb5-27"></a>    ),</span>
<span id="cb5-28"><a href="#cb5-28"></a>    <span class="dt">type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"r"</span>, <span class="st">"np"</span>, <span class="st">"bf"</span>),</span>
<span id="cb5-29"><a href="#cb5-29"></a>    <span class="dt">nboot =</span> <span class="dv">25</span>,</span>
<span id="cb5-30"><a href="#cb5-30"></a>    <span class="dt">marginal.type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"boxplot"</span>, <span class="st">"density"</span>, <span class="st">"violin"</span>),</span>
<span id="cb5-31"><a href="#cb5-31"></a>    <span class="dt">centrality.para =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"mean"</span>, <span class="st">"median"</span>, <span class="st">"mean"</span>),</span>
<span id="cb5-32"><a href="#cb5-32"></a>    <span class="dt">xfill =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"#009E73"</span>, <span class="st">"#999999"</span>, <span class="st">"#0072B2"</span>),</span>
<span id="cb5-33"><a href="#cb5-33"></a>    <span class="dt">yfill =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"#CC79A7"</span>, <span class="st">"#F0E442"</span>, <span class="st">"#D55E00"</span>),</span>
<span id="cb5-34"><a href="#cb5-34"></a>    <span class="dt">ggtheme =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb5-35"><a href="#cb5-35"></a>      ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_tufte.html">theme_tufte</a></span>(),</span>
<span id="cb5-36"><a href="#cb5-36"></a>      ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span>(),</span>
<span id="cb5-37"><a href="#cb5-37"></a>      ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_light</a></span>()</span>
<span id="cb5-38"><a href="#cb5-38"></a>    ),</span>
<span id="cb5-39"><a href="#cb5-39"></a>    <span class="dt">ggstatsplot.layer =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>),</span>
<span id="cb5-40"><a href="#cb5-40"></a>    <span class="dt">messages =</span> <span class="ot">FALSE</span></span>
<span id="cb5-41"><a href="#cb5-41"></a>  ),</span>
<span id="cb5-42"><a href="#cb5-42"></a>  <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>ggscatterstats</span>
<span id="cb5-43"><a href="#cb5-43"></a>)</span>
<span id="cb5-44"><a href="#cb5-44"></a></span>
<span id="cb5-45"><a href="#cb5-45"></a><span class="co"># combining all individual plots from the list into a single plot using combine_plots function</span></span>
<span id="cb5-46"><a href="#cb5-46"></a>ggstatsplot<span class="op">::</span><span class="kw"><a href="https://indrajeetpatil.github.io/ggstatsplot//reference/combine_plots.html">combine_plots</a></span>(</span>
<span id="cb5-47"><a href="#cb5-47"></a>  <span class="dt">plotlist =</span> plot_list,</span>
<span id="cb5-48"><a href="#cb5-48"></a>  <span class="dt">title.text =</span> <span class="st">"Relationship between movie budget and IMDB rating"</span>,</span>
<span id="cb5-49"><a href="#cb5-49"></a>  <span class="dt">caption.text =</span> <span class="st">"Source: www.imdb.com"</span>,</span>
<span id="cb5-50"><a href="#cb5-50"></a>  <span class="dt">caption.size =</span> <span class="dv">16</span>,</span>
<span id="cb5-51"><a href="#cb5-51"></a>  <span class="dt">title.color =</span> <span class="st">"red"</span>,</span>
<span id="cb5-52"><a href="#cb5-52"></a>  <span class="dt">caption.color =</span> <span class="st">"blue"</span>,</span>
<span id="cb5-53"><a href="#cb5-53"></a>  <span class="dt">ncol =</span> <span class="dv">1</span>,</span>
<span id="cb5-54"><a href="#cb5-54"></a>  <span class="dt">labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"(a)"</span>, <span class="st">"(b)"</span>, <span class="st">"(c)"</span>, <span class="st">"(d)"</span>)</span>
<span id="cb5-55"><a href="#cb5-55"></a>)</span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_ggscatterstats-1.png" width="672"></p>
<p>The remainder of the examples vary in content but follow the exact same methodology as the earlier examples.</p>
</div>
<div id="ggcorrmat" class="section level1">
<h1 class="hasAnchor">
<a href="#ggcorrmat" class="anchor"></a><code>ggcorrmat</code>
</h1>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># for reproducibility</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co"># splitting the dataframe by cut and creting a list</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co"># let's leave out "fair" cut</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co"># also, to make this fast, let's only use 5% of the sample</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>cut_list &lt;-</span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="st">  </span>ggplot2<span class="op">::</span>diamonds <span class="op">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/sample.html">sample_frac</a></span>(<span class="dt">tbl =</span> ., <span class="dt">size =</span> <span class="fl">0.05</span>) <span class="op">%&gt;%</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> ., cut <span class="op">!=</span><span class="st"> "Fair"</span>) <span class="op">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/split.html">split</a></span>(<span class="dt">x =</span> ., <span class="dt">f =</span> .<span class="op">$</span>cut, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</span>
<span id="cb6-12"><a href="#cb6-12"></a></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co"># this created a list with 4 elements, one for each quality of cut</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co"># you can check the structure of the file for yourself</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co"># str(cut_list)</span></span>
<span id="cb6-16"><a href="#cb6-16"></a></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co"># checking the length and names of each element</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(cut_list)</span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(cut_list)</span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">#&gt; [1] "Good"      "Very Good" "Premium"   "Ideal"</span></span>
<span id="cb6-22"><a href="#cb6-22"></a></span>
<span id="cb6-23"><a href="#cb6-23"></a><span class="co"># running function on every element of this list note that if you want the same</span></span>
<span id="cb6-24"><a href="#cb6-24"></a><span class="co"># value for a given argument across all elements of the list, you need to</span></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="co"># specify it just once</span></span>
<span id="cb6-26"><a href="#cb6-26"></a>plot_list &lt;-</span>
<span id="cb6-27"><a href="#cb6-27"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb6-28"><a href="#cb6-28"></a>    <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb6-29"><a href="#cb6-29"></a>      <span class="dt">data =</span> cut_list,</span>
<span id="cb6-30"><a href="#cb6-30"></a>      <span class="dt">cor.vars =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"carat"</span>, <span class="st">"depth"</span>, <span class="st">"table"</span>, <span class="st">"price"</span>)),</span>
<span id="cb6-31"><a href="#cb6-31"></a>      <span class="dt">cor.vars.names =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</span>
<span id="cb6-32"><a href="#cb6-32"></a>        <span class="st">"carat"</span>,</span>
<span id="cb6-33"><a href="#cb6-33"></a>        <span class="st">"total depth"</span>,</span>
<span id="cb6-34"><a href="#cb6-34"></a>        <span class="st">"table"</span>,</span>
<span id="cb6-35"><a href="#cb6-35"></a>        <span class="st">"price"</span></span>
<span id="cb6-36"><a href="#cb6-36"></a>      )),</span>
<span id="cb6-37"><a href="#cb6-37"></a>      <span class="dt">corr.method =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"pearson"</span>, <span class="st">"np"</span>, <span class="st">"robust"</span>, <span class="st">"kendall"</span>),</span>
<span id="cb6-38"><a href="#cb6-38"></a>      <span class="dt">title =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"Cut: Good"</span>, <span class="st">"Cut: Very Good"</span>, <span class="st">"Cut: Premium"</span>, <span class="st">"Cut: Ideal"</span>),</span>
<span id="cb6-39"><a href="#cb6-39"></a>      <span class="co"># note that we are changing both p-value adjustment method *and*</span></span>
<span id="cb6-40"><a href="#cb6-40"></a>      <span class="co"># significance level to display the significant correlations in the</span></span>
<span id="cb6-41"><a href="#cb6-41"></a>      <span class="co"># visualization matrix</span></span>
<span id="cb6-42"><a href="#cb6-42"></a>      <span class="dt">p.adjust.method =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"hommel"</span>, <span class="st">"fdr"</span>, <span class="st">"BY"</span>, <span class="st">"hochberg"</span>),</span>
<span id="cb6-43"><a href="#cb6-43"></a>      <span class="dt">sig.level =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fl">0.001</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span>, <span class="fl">0.003</span>),</span>
<span id="cb6-44"><a href="#cb6-44"></a>      <span class="dt">lab.size =</span> <span class="fl">3.5</span>,</span>
<span id="cb6-45"><a href="#cb6-45"></a>      <span class="dt">colors =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb6-46"><a href="#cb6-46"></a>        <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"#56B4E9"</span>, <span class="st">"white"</span>, <span class="st">"#999999"</span>),</span>
<span id="cb6-47"><a href="#cb6-47"></a>        <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"#CC79A7"</span>, <span class="st">"white"</span>, <span class="st">"#F0E442"</span>),</span>
<span id="cb6-48"><a href="#cb6-48"></a>        <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"#56B4E9"</span>, <span class="st">"white"</span>, <span class="st">"#D55E00"</span>),</span>
<span id="cb6-49"><a href="#cb6-49"></a>        <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"#999999"</span>, <span class="st">"white"</span>, <span class="st">"#0072B2"</span>)</span>
<span id="cb6-50"><a href="#cb6-50"></a>      ),</span>
<span id="cb6-51"><a href="#cb6-51"></a>      <span class="dt">ggstatsplot.layer =</span> <span class="ot">FALSE</span>,</span>
<span id="cb6-52"><a href="#cb6-52"></a>      <span class="dt">ggtheme =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb6-53"><a href="#cb6-53"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_grey</a></span>(),</span>
<span id="cb6-54"><a href="#cb6-54"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span>(),</span>
<span id="cb6-55"><a href="#cb6-55"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_fivethirtyeight.html">theme_fivethirtyeight</a></span>(),</span>
<span id="cb6-56"><a href="#cb6-56"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_tufte.html">theme_tufte</a></span>()</span>
<span id="cb6-57"><a href="#cb6-57"></a>      ),</span>
<span id="cb6-58"><a href="#cb6-58"></a>      <span class="dt">messages =</span> <span class="ot">FALSE</span></span>
<span id="cb6-59"><a href="#cb6-59"></a>    ),</span>
<span id="cb6-60"><a href="#cb6-60"></a>    <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>ggcorrmat</span>
<span id="cb6-61"><a href="#cb6-61"></a>  )</span>
<span id="cb6-62"><a href="#cb6-62"></a></span>
<span id="cb6-63"><a href="#cb6-63"></a><span class="co"># combining all individual plots from the list into a single plot using</span></span>
<span id="cb6-64"><a href="#cb6-64"></a><span class="co"># `combine_plots` function</span></span>
<span id="cb6-65"><a href="#cb6-65"></a>ggstatsplot<span class="op">::</span><span class="kw"><a href="https://indrajeetpatil.github.io/ggstatsplot//reference/combine_plots.html">combine_plots</a></span>(</span>
<span id="cb6-66"><a href="#cb6-66"></a>  <span class="dt">plotlist =</span> plot_list,</span>
<span id="cb6-67"><a href="#cb6-67"></a>  <span class="dt">title.text =</span> <span class="st">"Relationship between diamond attributes and price across cut"</span>,</span>
<span id="cb6-68"><a href="#cb6-68"></a>  <span class="dt">title.size =</span> <span class="dv">14</span>,</span>
<span id="cb6-69"><a href="#cb6-69"></a>  <span class="dt">title.color =</span> <span class="st">"red"</span>,</span>
<span id="cb6-70"><a href="#cb6-70"></a>  <span class="dt">caption.text =</span> <span class="st">"Dataset: Diamonds from ggplot2 package"</span>,</span>
<span id="cb6-71"><a href="#cb6-71"></a>  <span class="dt">caption.size =</span> <span class="dv">12</span>,</span>
<span id="cb6-72"><a href="#cb6-72"></a>  <span class="dt">caption.color =</span> <span class="st">"blue"</span>,</span>
<span id="cb6-73"><a href="#cb6-73"></a>  <span class="dt">nrow =</span> <span class="dv">2</span></span>
<span id="cb6-74"><a href="#cb6-74"></a>)</span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_ggcorrmat-1.png" width="960"></p>
</div>
<div id="gghistostats" class="section level1">
<h1 class="hasAnchor">
<a href="#gghistostats" class="anchor"></a><code>gghistostats</code>
</h1>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># for reproducibility</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co"># libraries needed</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggthemes)</span>
<span id="cb7-6"><a href="#cb7-6"></a></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co"># let's split the dataframe and create a list by continent</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co"># let's leave out Oceania because it has just two data points</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>continent_list &lt;-</span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="st">  </span>gapminder<span class="op">::</span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> ., year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>, continent <span class="op">!=</span><span class="st"> "Oceania"</span>) <span class="op">%&gt;%</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/split.html">split</a></span>(<span class="dt">x =</span> ., <span class="dt">f =</span> .<span class="op">$</span>continent, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</span>
<span id="cb7-13"><a href="#cb7-13"></a></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co"># this created a list with 4 elements, one for each continent</span></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="co"># you can check the structure of the file for yourself</span></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="co"># str(continent_list)</span></span>
<span id="cb7-17"><a href="#cb7-17"></a></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="co"># checking the length and names of each element</span></span>
<span id="cb7-19"><a href="#cb7-19"></a><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(continent_list)</span>
<span id="cb7-20"><a href="#cb7-20"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb7-21"><a href="#cb7-21"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(continent_list)</span>
<span id="cb7-22"><a href="#cb7-22"></a><span class="co">#&gt; [1] "Africa"   "Americas" "Asia"     "Europe"</span></span>
<span id="cb7-23"><a href="#cb7-23"></a></span>
<span id="cb7-24"><a href="#cb7-24"></a><span class="co"># running function on every element of this list note that if you want the same</span></span>
<span id="cb7-25"><a href="#cb7-25"></a><span class="co"># value for a given argument across all elements of the list, you need to</span></span>
<span id="cb7-26"><a href="#cb7-26"></a><span class="co"># specify it just once</span></span>
<span id="cb7-27"><a href="#cb7-27"></a>plot_list &lt;-</span>
<span id="cb7-28"><a href="#cb7-28"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb7-29"><a href="#cb7-29"></a>    <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb7-30"><a href="#cb7-30"></a>      <span class="dt">data =</span> continent_list,</span>
<span id="cb7-31"><a href="#cb7-31"></a>      <span class="dt">x =</span> <span class="st">"lifeExp"</span>,</span>
<span id="cb7-32"><a href="#cb7-32"></a>      <span class="dt">xlab =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb7-33"><a href="#cb7-33"></a>      <span class="dt">test.value =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fl">35.6</span>, <span class="fl">58.4</span>, <span class="fl">41.6</span>, <span class="fl">64.7</span>),</span>
<span id="cb7-34"><a href="#cb7-34"></a>      <span class="dt">type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"p"</span>, <span class="st">"np"</span>, <span class="st">"r"</span>, <span class="st">"bf"</span>),</span>
<span id="cb7-35"><a href="#cb7-35"></a>      <span class="dt">bf.message =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb7-36"><a href="#cb7-36"></a>      <span class="dt">title =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb7-37"><a href="#cb7-37"></a>        <span class="st">"Continent: Africa"</span>,</span>
<span id="cb7-38"><a href="#cb7-38"></a>        <span class="st">"Continent: Americas"</span>,</span>
<span id="cb7-39"><a href="#cb7-39"></a>        <span class="st">"Continent: Asia"</span>,</span>
<span id="cb7-40"><a href="#cb7-40"></a>        <span class="st">"Continent: Europe"</span></span>
<span id="cb7-41"><a href="#cb7-41"></a>      ),</span>
<span id="cb7-42"><a href="#cb7-42"></a>      <span class="dt">bar.measure =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"proportion"</span>, <span class="st">"count"</span>, <span class="st">"mix"</span>, <span class="st">"density"</span>),</span>
<span id="cb7-43"><a href="#cb7-43"></a>      <span class="dt">fill.gradient =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>),</span>
<span id="cb7-44"><a href="#cb7-44"></a>      <span class="dt">low.color =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"#56B4E9"</span>, <span class="st">"white"</span>, <span class="st">"#999999"</span>, <span class="st">"#009E73"</span>),</span>
<span id="cb7-45"><a href="#cb7-45"></a>      <span class="dt">high.color =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"#D55E00"</span>, <span class="st">"white"</span>, <span class="st">"#F0E442"</span>, <span class="st">"#F0E442"</span>),</span>
<span id="cb7-46"><a href="#cb7-46"></a>      <span class="dt">bar.fill =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"white"</span>, <span class="st">"red"</span>, <span class="st">"orange"</span>, <span class="st">"blue"</span>),</span>
<span id="cb7-47"><a href="#cb7-47"></a>      <span class="dt">effsize.type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"d"</span>, <span class="st">"d"</span>, <span class="st">"g"</span>, <span class="st">"g"</span>),</span>
<span id="cb7-48"><a href="#cb7-48"></a>      <span class="dt">effsize.noncentral =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb7-49"><a href="#cb7-49"></a>      <span class="dt">centrality.color =</span> <span class="st">"black"</span>,</span>
<span id="cb7-50"><a href="#cb7-50"></a>      <span class="dt">test.value.line =</span> <span class="ot">TRUE</span>,</span>
<span id="cb7-51"><a href="#cb7-51"></a>      <span class="dt">test.value.color =</span> <span class="st">"black"</span>,</span>
<span id="cb7-52"><a href="#cb7-52"></a>      <span class="dt">centrality.para =</span> <span class="st">"mean"</span>,</span>
<span id="cb7-53"><a href="#cb7-53"></a>      <span class="dt">normal.curve =</span> <span class="ot">TRUE</span>,</span>
<span id="cb7-54"><a href="#cb7-54"></a>      <span class="dt">ggtheme =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb7-55"><a href="#cb7-55"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span>(),</span>
<span id="cb7-56"><a href="#cb7-56"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_fivethirtyeight.html">theme_fivethirtyeight</a></span>(),</span>
<span id="cb7-57"><a href="#cb7-57"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span>(),</span>
<span id="cb7-58"><a href="#cb7-58"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_few.html">theme_few</a></span>()</span>
<span id="cb7-59"><a href="#cb7-59"></a>      ),</span>
<span id="cb7-60"><a href="#cb7-60"></a>      <span class="dt">messages =</span> <span class="ot">FALSE</span></span>
<span id="cb7-61"><a href="#cb7-61"></a>    ),</span>
<span id="cb7-62"><a href="#cb7-62"></a>    <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>gghistostats</span>
<span id="cb7-63"><a href="#cb7-63"></a>  )</span>
<span id="cb7-64"><a href="#cb7-64"></a></span>
<span id="cb7-65"><a href="#cb7-65"></a><span class="co"># combining all individual plots from the list into a single plot using combine_plots function</span></span>
<span id="cb7-66"><a href="#cb7-66"></a>ggstatsplot<span class="op">::</span><span class="kw"><a href="https://indrajeetpatil.github.io/ggstatsplot//reference/combine_plots.html">combine_plots</a></span>(</span>
<span id="cb7-67"><a href="#cb7-67"></a>  <span class="dt">plotlist =</span> plot_list,</span>
<span id="cb7-68"><a href="#cb7-68"></a>  <span class="dt">title.text =</span> <span class="st">"Improvement in life expectancy worldwide since 1950"</span>,</span>
<span id="cb7-69"><a href="#cb7-69"></a>  <span class="dt">caption.text =</span> <span class="st">"Note: black line - 1950; blue line - 2007"</span>,</span>
<span id="cb7-70"><a href="#cb7-70"></a>  <span class="dt">nrow =</span> <span class="dv">4</span>,</span>
<span id="cb7-71"><a href="#cb7-71"></a>  <span class="dt">labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"(a)"</span>, <span class="st">"(b)"</span>, <span class="st">"(c)"</span>, <span class="st">"(d)"</span>)</span>
<span id="cb7-72"><a href="#cb7-72"></a>)</span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_gghistostats-1.png" width="576"></p>
</div>
<div id="ggdotplotstats" class="section level1">
<h1 class="hasAnchor">
<a href="#ggdotplotstats" class="anchor"></a><code>ggdotplotstats</code>
</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># for reproducibility</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co"># libraries needed</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggthemes)</span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(hrbrthemes)</span>
<span id="cb8-7"><a href="#cb8-7"></a></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co"># let's split the dataframe and create a list by continent</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co"># let's leave out Oceania because it has just two data points</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>continent_list &lt;-</span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="st">  </span>gapminder<span class="op">::</span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> ., continent <span class="op">!=</span><span class="st"> "Oceania"</span>) <span class="op">%&gt;%</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/split.html">split</a></span>(<span class="dt">x =</span> ., <span class="dt">f =</span> .<span class="op">$</span>continent, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</span>
<span id="cb8-14"><a href="#cb8-14"></a></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co"># this created a list with 4 elements, one for each continent</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co"># you can check the structure of the file for yourself</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co"># str(continent_list)</span></span>
<span id="cb8-18"><a href="#cb8-18"></a></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co"># checking the length and names of each element</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(continent_list)</span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(continent_list)</span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">#&gt; [1] "Africa"   "Americas" "Asia"     "Europe"</span></span>
<span id="cb8-24"><a href="#cb8-24"></a></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="co"># running function on every element of this list note that if you want the same</span></span>
<span id="cb8-26"><a href="#cb8-26"></a><span class="co"># value for a given argument across all elements of the list, you need to</span></span>
<span id="cb8-27"><a href="#cb8-27"></a><span class="co"># specify it just once</span></span>
<span id="cb8-28"><a href="#cb8-28"></a>plot_list &lt;-</span>
<span id="cb8-29"><a href="#cb8-29"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb8-30"><a href="#cb8-30"></a>    <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb8-31"><a href="#cb8-31"></a>      <span class="dt">data =</span> continent_list,</span>
<span id="cb8-32"><a href="#cb8-32"></a>      <span class="dt">x =</span> <span class="st">"gdpPercap"</span>,</span>
<span id="cb8-33"><a href="#cb8-33"></a>      <span class="dt">y =</span> <span class="st">"year"</span>,</span>
<span id="cb8-34"><a href="#cb8-34"></a>      <span class="dt">xlab =</span> <span class="st">"GDP per capita (US$, inflation-adjusted)"</span>,</span>
<span id="cb8-35"><a href="#cb8-35"></a>      <span class="dt">test.value =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dv">2500</span>, <span class="dv">9000</span>, <span class="dv">10000</span>, <span class="dv">10000</span>),</span>
<span id="cb8-36"><a href="#cb8-36"></a>      <span class="dt">type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"p"</span>, <span class="st">"np"</span>, <span class="st">"r"</span>, <span class="st">"bf"</span>),</span>
<span id="cb8-37"><a href="#cb8-37"></a>      <span class="dt">bf.message =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb8-38"><a href="#cb8-38"></a>      <span class="dt">title =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb8-39"><a href="#cb8-39"></a>        <span class="st">"Continent: Africa"</span>,</span>
<span id="cb8-40"><a href="#cb8-40"></a>        <span class="st">"Continent: Americas"</span>,</span>
<span id="cb8-41"><a href="#cb8-41"></a>        <span class="st">"Continent: Asia"</span>,</span>
<span id="cb8-42"><a href="#cb8-42"></a>        <span class="st">"Continent: Europe"</span></span>
<span id="cb8-43"><a href="#cb8-43"></a>      ),</span>
<span id="cb8-44"><a href="#cb8-44"></a>      <span class="dt">effsize.type =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"d"</span>, <span class="st">"d"</span>, <span class="st">"g"</span>, <span class="st">"g"</span>),</span>
<span id="cb8-45"><a href="#cb8-45"></a>      <span class="dt">effsize.noncentral =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb8-46"><a href="#cb8-46"></a>      <span class="dt">centrality.color =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"red"</span>, <span class="st">"#0072B2"</span>, <span class="st">"#D55E00"</span>, <span class="st">"#CC79A7"</span>),</span>
<span id="cb8-47"><a href="#cb8-47"></a>      <span class="dt">test.value.line =</span> <span class="ot">TRUE</span>,</span>
<span id="cb8-48"><a href="#cb8-48"></a>      <span class="dt">test.value.color =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span>, <span class="st">"#009E73"</span>, <span class="st">"blue"</span>),</span>
<span id="cb8-49"><a href="#cb8-49"></a>      <span class="dt">centrality.para =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"median"</span>, <span class="st">"mean"</span>, <span class="st">"mean"</span>, <span class="st">"median"</span>),</span>
<span id="cb8-50"><a href="#cb8-50"></a>      <span class="dt">point.color =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"green"</span>, <span class="st">"blue"</span>, <span class="st">"#E69F00"</span>, <span class="st">"darkgreen"</span>),</span>
<span id="cb8-51"><a href="#cb8-51"></a>      <span class="dt">point.size =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">3</span>),</span>
<span id="cb8-52"><a href="#cb8-52"></a>      <span class="dt">point.shape =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dv">12</span>, <span class="dv">13</span>, <span class="dv">17</span>, <span class="dv">18</span>),</span>
<span id="cb8-53"><a href="#cb8-53"></a>      <span class="dt">ggtheme =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb8-54"><a href="#cb8-54"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span>(<span class="dt">base_family =</span> <span class="st">"serif"</span>),</span>
<span id="cb8-55"><a href="#cb8-55"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_tufte.html">theme_tufte</a></span>(),</span>
<span id="cb8-56"><a href="#cb8-56"></a>        hrbrthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/hrbrthemes/man/theme_ipsum_rc.html">theme_ipsum_rc</a></span>(<span class="dt">axis_title_size =</span> <span class="dv">10</span>),</span>
<span id="cb8-57"><a href="#cb8-57"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_hc.html">theme_hc</a></span>(<span class="dt">bgcolor =</span> <span class="st">"darkunica"</span>)</span>
<span id="cb8-58"><a href="#cb8-58"></a>      ),</span>
<span id="cb8-59"><a href="#cb8-59"></a>      <span class="dt">messages =</span> <span class="ot">FALSE</span></span>
<span id="cb8-60"><a href="#cb8-60"></a>    ),</span>
<span id="cb8-61"><a href="#cb8-61"></a>    <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>ggdotplotstats</span>
<span id="cb8-62"><a href="#cb8-62"></a>  )</span>
<span id="cb8-63"><a href="#cb8-63"></a></span>
<span id="cb8-64"><a href="#cb8-64"></a><span class="co"># combining all individual plots from the list into a single plot using combine_plots function</span></span>
<span id="cb8-65"><a href="#cb8-65"></a>ggstatsplot<span class="op">::</span><span class="kw"><a href="https://indrajeetpatil.github.io/ggstatsplot//reference/combine_plots.html">combine_plots</a></span>(</span>
<span id="cb8-66"><a href="#cb8-66"></a>  <span class="dt">plotlist =</span> plot_list,</span>
<span id="cb8-67"><a href="#cb8-67"></a>  <span class="dt">title.text =</span> <span class="st">"Improvement in GDP per capita from 1952-2007"</span>,</span>
<span id="cb8-68"><a href="#cb8-68"></a>  <span class="dt">nrow =</span> <span class="dv">4</span>,</span>
<span id="cb8-69"><a href="#cb8-69"></a>  <span class="dt">labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"(i)"</span>, <span class="st">"(ii)"</span>, <span class="st">"(iii)"</span>, <span class="st">"(iv)"</span>)</span>
<span id="cb8-70"><a href="#cb8-70"></a>)</span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_ggdotplotstats-1.png" width="576"></p>
</div>
<div id="ggpiestats" class="section level1">
<h1 class="hasAnchor">
<a href="#ggpiestats" class="anchor"></a><code>ggpiestats</code>
</h1>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># for reproducibility</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co"># let's split the dataframe and create a list by passenger class</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>class_list &lt;-<span class="st"> </span>ggstatsplot<span class="op">::</span>Titanic_full <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/split.html">split</a></span>(<span class="dt">x =</span> ., <span class="dt">f =</span> .<span class="op">$</span>Class, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co"># this created a list with 4 elements, one for each class</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co"># you can check the structure of the file for yourself</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co"># str(class_list)</span></span>
<span id="cb9-10"><a href="#cb9-10"></a></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co"># checking the length and names of each element</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(class_list)</span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(class_list)</span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="co">#&gt; [1] "1st"  "2nd"  "3rd"  "Crew"</span></span>
<span id="cb9-16"><a href="#cb9-16"></a></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="co"># running function on every element of this list note that if you want the same</span></span>
<span id="cb9-18"><a href="#cb9-18"></a><span class="co"># value for a given argument across all elements of the list, you need to</span></span>
<span id="cb9-19"><a href="#cb9-19"></a><span class="co"># specify it just once</span></span>
<span id="cb9-20"><a href="#cb9-20"></a>plot_list &lt;-</span>
<span id="cb9-21"><a href="#cb9-21"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb9-22"><a href="#cb9-22"></a>    <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb9-23"><a href="#cb9-23"></a>      <span class="dt">data =</span> class_list,</span>
<span id="cb9-24"><a href="#cb9-24"></a>      <span class="dt">x =</span> <span class="st">"Survived"</span>,</span>
<span id="cb9-25"><a href="#cb9-25"></a>      <span class="dt">y =</span> <span class="st">"Sex"</span>,</span>
<span id="cb9-26"><a href="#cb9-26"></a>      <span class="dt">slice.label =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"both"</span>, <span class="st">"count"</span>, <span class="st">"percentage"</span>, <span class="st">"both"</span>),</span>
<span id="cb9-27"><a href="#cb9-27"></a>      <span class="dt">nboot =</span> <span class="dv">10</span>,</span>
<span id="cb9-28"><a href="#cb9-28"></a>      <span class="dt">facet.wrap.name =</span> <span class="st">"Gender"</span>,</span>
<span id="cb9-29"><a href="#cb9-29"></a>      <span class="dt">title =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb9-30"><a href="#cb9-30"></a>        <span class="st">"Passenger class: 1st"</span>,</span>
<span id="cb9-31"><a href="#cb9-31"></a>        <span class="st">"Passenger class: 2nd"</span>,</span>
<span id="cb9-32"><a href="#cb9-32"></a>        <span class="st">"Passenger class: 3rd"</span>,</span>
<span id="cb9-33"><a href="#cb9-33"></a>        <span class="st">"Passenger class: Crew"</span></span>
<span id="cb9-34"><a href="#cb9-34"></a>      ),</span>
<span id="cb9-35"><a href="#cb9-35"></a>      <span class="dt">caption =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb9-36"><a href="#cb9-36"></a>        <span class="st">"Total: 319, Died: 120, Survived: 199, % Survived: 62%"</span>,</span>
<span id="cb9-37"><a href="#cb9-37"></a>        <span class="st">"Total: 272, Died: 155, Survived: 117, % Survived: 43%"</span>,</span>
<span id="cb9-38"><a href="#cb9-38"></a>        <span class="st">"Total: 709, Died: 537, Survived: 172, % Survived: 25%"</span>,</span>
<span id="cb9-39"><a href="#cb9-39"></a>        <span class="st">"Data not available for crew passengers"</span></span>
<span id="cb9-40"><a href="#cb9-40"></a>      ),</span>
<span id="cb9-41"><a href="#cb9-41"></a>      <span class="dt">package =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"RColorBrewer"</span>, <span class="st">"ghibli"</span>, <span class="st">"palettetown"</span>, <span class="st">"yarrr"</span>),</span>
<span id="cb9-42"><a href="#cb9-42"></a>      <span class="dt">palette =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"Accent"</span>, <span class="st">"MarnieMedium1"</span>, <span class="st">"pikachu"</span>, <span class="st">"nemo"</span>),</span>
<span id="cb9-43"><a href="#cb9-43"></a>      <span class="dt">ggtheme =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb9-44"><a href="#cb9-44"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_grey</a></span>(),</span>
<span id="cb9-45"><a href="#cb9-45"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>(),</span>
<span id="cb9-46"><a href="#cb9-46"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_tufte.html">theme_tufte</a></span>(),</span>
<span id="cb9-47"><a href="#cb9-47"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_economist.html">theme_economist</a></span>()</span>
<span id="cb9-48"><a href="#cb9-48"></a>      ),</span>
<span id="cb9-49"><a href="#cb9-49"></a>      <span class="dt">ggstatsplot.layer =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb9-50"><a href="#cb9-50"></a>      <span class="dt">sample.size.label =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb9-51"><a href="#cb9-51"></a>      <span class="dt">facet.proptest =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb9-52"><a href="#cb9-52"></a>      <span class="dt">messages =</span> <span class="ot">FALSE</span></span>
<span id="cb9-53"><a href="#cb9-53"></a>    ),</span>
<span id="cb9-54"><a href="#cb9-54"></a>    <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>ggpiestats</span>
<span id="cb9-55"><a href="#cb9-55"></a>  )</span>
<span id="cb9-56"><a href="#cb9-56"></a></span>
<span id="cb9-57"><a href="#cb9-57"></a><span class="co"># combining all individual plots from the list into a single plot using combine_plots function</span></span>
<span id="cb9-58"><a href="#cb9-58"></a>ggstatsplot<span class="op">::</span><span class="kw"><a href="https://indrajeetpatil.github.io/ggstatsplot//reference/combine_plots.html">combine_plots</a></span>(</span>
<span id="cb9-59"><a href="#cb9-59"></a>  <span class="dt">plotlist =</span> plot_list,</span>
<span id="cb9-60"><a href="#cb9-60"></a>  <span class="dt">title.text =</span> <span class="st">"Survival in Titanic disaster by gender for all passenger classes"</span>,</span>
<span id="cb9-61"><a href="#cb9-61"></a>  <span class="dt">ncol =</span> <span class="dv">1</span>,</span>
<span id="cb9-62"><a href="#cb9-62"></a>  <span class="dt">labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"(a)"</span>, <span class="st">"(b)"</span>, <span class="st">"(c)"</span>, <span class="st">"(d)"</span>)</span>
<span id="cb9-63"><a href="#cb9-63"></a>)</span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_ggpiestats-1.png" width="864"></p>
</div>
<div id="ggbarstats" class="section level1">
<h1 class="hasAnchor">
<a href="#ggbarstats" class="anchor"></a><code>ggbarstats</code>
</h1>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># for reproducibility</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="co"># let's split the dataframe and create a list by passenger class</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>class_list &lt;-<span class="st"> </span>ggstatsplot<span class="op">::</span>Titanic_full <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/split.html">split</a></span>(<span class="dt">x =</span> ., <span class="dt">f =</span> .<span class="op">$</span>Class, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="co"># this created a list with 4 elements, one for each class</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co"># you can check the structure of the file for yourself</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="co"># str(class_list)</span></span>
<span id="cb10-10"><a href="#cb10-10"></a></span>
<span id="cb10-11"><a href="#cb10-11"></a><span class="co"># checking the length and names of each element</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(class_list)</span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb10-14"><a href="#cb10-14"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(class_list)</span>
<span id="cb10-15"><a href="#cb10-15"></a><span class="co">#&gt; [1] "1st"  "2nd"  "3rd"  "Crew"</span></span>
<span id="cb10-16"><a href="#cb10-16"></a></span>
<span id="cb10-17"><a href="#cb10-17"></a><span class="co"># running function on every element of this list note that if you want the same</span></span>
<span id="cb10-18"><a href="#cb10-18"></a><span class="co"># value for a given argument across all elements of the list, you need to</span></span>
<span id="cb10-19"><a href="#cb10-19"></a><span class="co"># specify it just once</span></span>
<span id="cb10-20"><a href="#cb10-20"></a>plot_list &lt;-</span>
<span id="cb10-21"><a href="#cb10-21"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb10-22"><a href="#cb10-22"></a>    <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb10-23"><a href="#cb10-23"></a>      <span class="dt">data =</span> class_list,</span>
<span id="cb10-24"><a href="#cb10-24"></a>      <span class="dt">x =</span> <span class="st">"Survived"</span>,</span>
<span id="cb10-25"><a href="#cb10-25"></a>      <span class="dt">y =</span> <span class="st">"Sex"</span>,</span>
<span id="cb10-26"><a href="#cb10-26"></a>      <span class="dt">nboot =</span> <span class="dv">10</span>,</span>
<span id="cb10-27"><a href="#cb10-27"></a>      <span class="dt">bar.label =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"both"</span>, <span class="st">"count"</span>, <span class="st">"percentage"</span>, <span class="st">"both"</span>),</span>
<span id="cb10-28"><a href="#cb10-28"></a>      <span class="dt">title =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb10-29"><a href="#cb10-29"></a>        <span class="st">"Passenger class: 1st"</span>,</span>
<span id="cb10-30"><a href="#cb10-30"></a>        <span class="st">"Passenger class: 2nd"</span>,</span>
<span id="cb10-31"><a href="#cb10-31"></a>        <span class="st">"Passenger class: 3rd"</span>,</span>
<span id="cb10-32"><a href="#cb10-32"></a>        <span class="st">"Passenger class: Crew"</span></span>
<span id="cb10-33"><a href="#cb10-33"></a>      ),</span>
<span id="cb10-34"><a href="#cb10-34"></a>      <span class="dt">caption =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb10-35"><a href="#cb10-35"></a>        <span class="st">"Total: 319, Died: 120, Survived: 199, % Survived: 62%"</span>,</span>
<span id="cb10-36"><a href="#cb10-36"></a>        <span class="st">"Total: 272, Died: 155, Survived: 117, % Survived: 43%"</span>,</span>
<span id="cb10-37"><a href="#cb10-37"></a>        <span class="st">"Total: 709, Died: 537, Survived: 172, % Survived: 25%"</span>,</span>
<span id="cb10-38"><a href="#cb10-38"></a>        <span class="st">"Data not available for crew passengers"</span></span>
<span id="cb10-39"><a href="#cb10-39"></a>      ),</span>
<span id="cb10-40"><a href="#cb10-40"></a>      <span class="dt">package =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"RColorBrewer"</span>, <span class="st">"ghibli"</span>, <span class="st">"palettetown"</span>, <span class="st">"yarrr"</span>),</span>
<span id="cb10-41"><a href="#cb10-41"></a>      <span class="dt">palette =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"Accent"</span>, <span class="st">"MarnieMedium1"</span>, <span class="st">"pikachu"</span>, <span class="st">"nemo"</span>),</span>
<span id="cb10-42"><a href="#cb10-42"></a>      <span class="dt">ggtheme =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb10-43"><a href="#cb10-43"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_grey</a></span>(),</span>
<span id="cb10-44"><a href="#cb10-44"></a>        ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>(),</span>
<span id="cb10-45"><a href="#cb10-45"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_tufte.html">theme_tufte</a></span>(),</span>
<span id="cb10-46"><a href="#cb10-46"></a>        ggthemes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggthemes/man/theme_economist.html">theme_economist</a></span>()</span>
<span id="cb10-47"><a href="#cb10-47"></a>      ),</span>
<span id="cb10-48"><a href="#cb10-48"></a>      <span class="dt">ggstatsplot.layer =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb10-49"><a href="#cb10-49"></a>      <span class="dt">sample.size.label =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb10-50"><a href="#cb10-50"></a>      <span class="dt">bar.proptest =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb10-51"><a href="#cb10-51"></a>      <span class="dt">messages =</span> <span class="ot">FALSE</span></span>
<span id="cb10-52"><a href="#cb10-52"></a>    ),</span>
<span id="cb10-53"><a href="#cb10-53"></a>    <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>ggbarstats</span>
<span id="cb10-54"><a href="#cb10-54"></a>  )</span>
<span id="cb10-55"><a href="#cb10-55"></a></span>
<span id="cb10-56"><a href="#cb10-56"></a><span class="co"># combining all individual plots from the list into a single plot using combine_plots function</span></span>
<span id="cb10-57"><a href="#cb10-57"></a>ggstatsplot<span class="op">::</span><span class="kw"><a href="https://indrajeetpatil.github.io/ggstatsplot//reference/combine_plots.html">combine_plots</a></span>(</span>
<span id="cb10-58"><a href="#cb10-58"></a>  <span class="dt">plotlist =</span> plot_list,</span>
<span id="cb10-59"><a href="#cb10-59"></a>  <span class="dt">title.text =</span> <span class="st">"Survival in Titanic disaster by gender for all passenger classes"</span>,</span>
<span id="cb10-60"><a href="#cb10-60"></a>  <span class="dt">caption.text =</span> <span class="st">"Asterisks denote results from proportion tests: </span><span class="ch">\n</span><span class="st">***: p &lt; 0.001, ns: non-significant"</span>,</span>
<span id="cb10-61"><a href="#cb10-61"></a>  <span class="dt">ncol =</span> <span class="dv">1</span>,</span>
<span id="cb10-62"><a href="#cb10-62"></a>  <span class="dt">labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"(a)"</span>, <span class="st">"(b)"</span>, <span class="st">"(c)"</span>, <span class="st">"(d)"</span>)</span>
<span id="cb10-63"><a href="#cb10-63"></a>)</span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_ggbarstats-1.png" width="672"></p>
</div>
<div id="grouped_-variants" class="section level1">
<h1 class="hasAnchor">
<a href="#grouped_-variants" class="anchor"></a><code>grouped_</code> variants</h1>
<p>Note that although all the above examples were written with the non-grouped variants of functions, the same rule holds true for the <code>grouped_</code> variants of all the above functions.</p>
<p>For example, if we want to use the <code>grouped_gghistostats</code> across three different datasets, you can use <code><a href="https://purrr.tidyverse.org/reference/map2.html">purrr::pmap()</a></code> function. For the sake of brevity, the plots are not displayed here, but you can run the following code and check the individual <code>grouped_</code> plots (e.g., <code>plotlist[[1]]</code>).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># create a list of plots</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>plotlist &lt;-</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb11-5"><a href="#cb11-5"></a>      <span class="dt">data =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(mtcars, iris, ToothGrowth),</span>
<span id="cb11-6"><a href="#cb11-6"></a>      <span class="dt">x =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">alist</a></span>(wt, Sepal.Length, len),</span>
<span id="cb11-7"><a href="#cb11-7"></a>      <span class="dt">results.subtitle =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">FALSE</span>),</span>
<span id="cb11-8"><a href="#cb11-8"></a>      <span class="dt">grouping.var =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">alist</a></span>(am, Species, supp),</span>
<span id="cb11-9"><a href="#cb11-9"></a>      <span class="dt">title.text =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"Dataset: mtcars"</span>, <span class="st">"Dataset: iris"</span>, <span class="st">"Dataset: ToothGrowth"</span>),</span>
<span id="cb11-10"><a href="#cb11-10"></a>      <span class="dt">messages =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="ot">FALSE</span>)</span>
<span id="cb11-11"><a href="#cb11-11"></a>    ),</span>
<span id="cb11-12"><a href="#cb11-12"></a>    <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>grouped_gghistostats</span>
<span id="cb11-13"><a href="#cb11-13"></a>  )</span>
<span id="cb11-14"><a href="#cb11-14"></a></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="co"># given that we had three different datasets, we expect a list of length 3</span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="co"># (each of which contains a `grouped_` plot)</span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(plotlist)</span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div>
</div>
<div id="repeating-function-execution-across-multiple-columns-in-a-dataframe" class="section level1">
<h1 class="hasAnchor">
<a href="#repeating-function-execution-across-multiple-columns-in-a-dataframe" class="anchor"></a>Repeating function execution across multiple columns in a dataframe</h1>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># running the same analysis on two different columns</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>plotlist &lt;-<span class="st"> </span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(</span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="dt">.l =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb12-5"><a href="#cb12-5"></a>    <span class="dt">data =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(mtcars),</span>
<span id="cb12-6"><a href="#cb12-6"></a>    <span class="dt">x =</span> <span class="st">"am"</span>,</span>
<span id="cb12-7"><a href="#cb12-7"></a>    <span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"wt"</span>, <span class="st">"qsec"</span>),</span>
<span id="cb12-8"><a href="#cb12-8"></a>    <span class="dt">messages =</span> <span class="ot">FALSE</span></span>
<span id="cb12-9"><a href="#cb12-9"></a>  ),</span>
<span id="cb12-10"><a href="#cb12-10"></a>  <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>ggbetweenstats</span>
<span id="cb12-11"><a href="#cb12-11"></a>)</span>
<span id="cb12-12"><a href="#cb12-12"></a></span>
<span id="cb12-13"><a href="#cb12-13"></a><span class="co"># wt</span></span>
<span id="cb12-14"><a href="#cb12-14"></a>plotlist[[<span class="dv">1</span>]] </span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_columns-1.png" width="700"></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a></span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co"># qsec</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>plotlist[[<span class="dv">2</span>]] </span></code></pre></div>
<p><img src="purrr_examples_files/figure-html/purrr_columns-2.png" width="700"></p>
</div>
<div id="suggestions" class="section level1">
<h1 class="hasAnchor">
<a href="#suggestions" class="anchor"></a>Suggestions</h1>
<p>If you find any bugs or have any suggestions/remarks, please file an issue on <code>GitHub</code>: <a href="https://github.com/IndrajeetPatil/ggstatsplot/issues" class="uri">https://github.com/IndrajeetPatil/ggstatsplot/issues</a></p>
</div>
<div id="session-information" class="section level1">
<h1 class="hasAnchor">
<a href="#session-information" class="anchor"></a>Session Information</h1>
<p>For details, see- <a href="https://indrajeetpatil.github.io/ggstatsplot/articles/web_only/session_info.html" class="uri">https://indrajeetpatil.github.io/ggstatsplot/articles/web_only/session_info.html</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#why-use-purrr">Why use <code>purrr</code>?</a></li>
      <li><a href="#introduction-and-methodology">Introduction and methodology</a></li>
      <li><a href="#ggbetweenstats"><code>ggbetweenstats</code></a></li>
      <li><a href="#ggwithinstats"><code>ggwithinstats</code></a></li>
      <li><a href="#ggscatterstats"><code>ggscatterstats</code></a></li>
      <li><a href="#ggcorrmat"><code>ggcorrmat</code></a></li>
      <li><a href="#gghistostats"><code>gghistostats</code></a></li>
      <li><a href="#ggdotplotstats"><code>ggdotplotstats</code></a></li>
      <li><a href="#ggpiestats"><code>ggpiestats</code></a></li>
      <li><a href="#ggbarstats"><code>ggbarstats</code></a></li>
      <li><a href="#grouped_-variants"><code>grouped_</code> variants</a></li>
      <li><a href="#repeating-function-execution-across-multiple-columns-in-a-dataframe">Repeating function execution across multiple columns in a dataframe</a></li>
      <li><a href="#suggestions">Suggestions</a></li>
      <li><a href="#session-information">Session Information</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://sites.google.com/site/indrajeetspatilmorality/">Indrajeet Patil</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '44345fbe359c5496fbc3955c513333d1',
    indexName: 'ggstatsplot',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
